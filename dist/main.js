/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js/api.js":
/*!*******************!*\
  !*** ./js/api.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authorization: () => (/* binding */ authorization),\n/* harmony export */   deleteFetch: () => (/* binding */ deleteFetch),\n/* harmony export */   fetchComments: () => (/* binding */ fetchComments),\n/* harmony export */   postComment: () => (/* binding */ postComment),\n/* harmony export */   registration: () => (/* binding */ registration),\n/* harmony export */   switchLike: () => (/* binding */ switchLike)\n/* harmony export */ });\n/* harmony import */ var _userdata_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./userdata.js */ \"./js/userdata.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"./js/index.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render.js */ \"./js/render.js\");\n\r\n\r\n\r\n\r\nconst host = 'https://wedev-api.sky.pro/api/v2/Miron_MPF'\r\nconst hostAuth = 'https://wedev-api.sky.pro/api/user'\r\n\r\nconst maxRetries = 3\r\n\r\nconst fetchComments = () => {\r\n    if (!navigator.onLine) {\r\n        alert('Ваш интернет был похищен инопланетянами')\r\n        return\r\n    }\r\n\r\n    return fetch(host + '/comments')\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((responseData) => {\r\n            return responseData.comments.map((comment) => ({\r\n                name: comment.author.name,\r\n                id: comment.id,\r\n                date: comment.date,\r\n                text: comment.text,\r\n                likes: comment.likes,\r\n                isLiked: false,\r\n            }))\r\n        })\r\n        .catch((error) => {\r\n            alert(error.messege)\r\n        })\r\n}\r\n\r\nconst authorization = (login, password) => {\r\n    console.log('запуск блока авторизации')\r\n    return (\r\n        fetch(hostAuth + '/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                login: login,\r\n                password: password,\r\n            }),\r\n        })\r\n            .then((response) => {\r\n                console.log(response)\r\n                if (!response.ok) {\r\n                    if (response.status === 400) {\r\n                        throw new Error('Некорректные данные или проблема на севере')\r\n                    } else {\r\n                        throw new Error(`Ошибка ${response.status} ${response.statusText}`)\r\n                    }\r\n                } else {\r\n                    return response.json()\r\n                }\r\n            })\r\n            .then((responseData) => {\r\n               \r\n                    console.log(responseData)\r\n                    const newData = {\r\n                        id: responseData.user._id,\r\n                        token: responseData.user.token,\r\n                        name: responseData.user.name,\r\n                        login: responseData.user.login,\r\n                    }\r\n\r\n                    ;(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getNewDateFromAuth)(newData)\r\n                    ;(0,_userdata_js__WEBPACK_IMPORTED_MODULE_0__.updateUserData)(newData)\r\n                    console.log('данные обновлены')\r\n                    ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderBlockAuth)()\r\n                    console.log('перерисовываем блок авторизации')\r\n                    return responseData\r\n            })\r\n            \r\n            .catch((error) =>\r\n                console.log(\r\n                    error.message,\r\n                    alert(error.message)\r\n                    // .finally(() => renderBlockAuth())\r\n                )\r\n            )\r\n    )\r\n}\r\n\r\nconst registration = (login, name, password) => {\r\n    console.log(login, name, password)\r\n\r\n    return fetch('https://wedev-api.sky.pro/api/user', {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n            login: login,\r\n            name: name,\r\n            password: password,\r\n        }),\r\n    })\r\n        .then((response) => {\r\n            if (response.status === 400) {\r\n                alert('Вееденs некоректные данные ')\r\n                return\r\n            }\r\n            console.log(response)\r\n            return response.json()\r\n        })\r\n        .then((responseData) => {\r\n            const newData = {\r\n                id: responseData.user._id,\r\n                token: responseData.user.token,\r\n                name: responseData.user.name,\r\n                login: responseData.user.login,\r\n            }\r\n            ;(0,_userdata_js__WEBPACK_IMPORTED_MODULE_0__.updateUserData)(newData)\r\n\r\n            return responseData, console.log(responseData), (0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderBlockAuth)(), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.fetchAndRender)()\r\n        })\r\n        .catch((error) => {\r\n            console.error(error.message)\r\n        })\r\n}\r\n\r\nconst postComment = (text, retries = maxRetries) => {\r\n    if (!navigator.onLine) {\r\n        alert('Ваш интернет был похищен инопланетянами')\r\n        return Promise.reject(new Error('Нет интернет-соединения '))\r\n    }\r\n\r\n    return fetch(host + '/comments', {\r\n        headers: {\r\n            Authorization: `Bearer ${_userdata_js__WEBPACK_IMPORTED_MODULE_0__.userData.token}`,\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n            text,\r\n            // forceError: true,\r\n        }),\r\n    })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 && retries > 0) {\r\n                    alert(`Ошибка 500. Повторная отправка комментария... Осталось попыток: ${retries}`)\r\n                    return postComment(text, name, retries - 1)\r\n                }\r\n                switch (response.status) {\r\n                    case 404:\r\n                        throw new Error('Кажется, у вас сломался интернет, попробуйте позже')\r\n\r\n                    default:\r\n                        return response.json().then((errorData) => {\r\n                            throw new Error(errorData.error)\r\n                        })\r\n                }\r\n            }\r\n\r\n            return response.json()\r\n        })\r\n        .catch((error) => {\r\n            alert(error.massage)\r\n            throw error\r\n        })\r\n}\r\n\r\nconst deleteFetch = (commentId) => {\r\n    return fetch(host + `/comments/${commentId}`, {\r\n        headers: { Authorization: `Bearer ${_userdata_js__WEBPACK_IMPORTED_MODULE_0__.userData.token}` },\r\n        method: 'DELETE',\r\n    })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((responseData) => {\r\n            console.log(responseData)\r\n            ;(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.fetchAndRender)()\r\n            return responseData\r\n        })\r\n}\r\n\r\nconst switchLike = (likeId) => {\r\n    console.log(`/comments/${likeId}/toggle-like`)\r\n    console.log(likeId)\r\n    return fetch(host + `/comments/${likeId}/toggle-like`, {\r\n        headers: { Authorization: `Bearer ${_userdata_js__WEBPACK_IMPORTED_MODULE_0__.userData.token}` },\r\n        method: 'POST',\r\n    })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('Что-то пошло не так')\r\n            }\r\n            return response.json()\r\n        })\r\n        .then((responseData) => {\r\n            console.log(responseData.result)\r\n            return responseData.result\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.message)\r\n        })\r\n}\r\n\n\n//# sourceURL=webpack:///./js/api.js?");

/***/ }),

/***/ "./js/clearusedate.js":
/*!****************************!*\
  !*** ./js/clearusedate.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserData: () => (/* binding */ clearUserData)\n/* harmony export */ });\n/* harmony import */ var _userdata_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./userdata.js */ \"./js/userdata.js\");\n\r\n\r\nconst clearUserData = () => {\r\n    const buttonClear = document.querySelectorAll('.exit__btn')\r\n    buttonClear.forEach((item) => {\r\n        if (buttonClear) {\r\n            item.addEventListener('click', () => {\r\n                const btns = document.querySelectorAll('.button')\r\n                btns.forEach((btn) => {\r\n                    btn.style.display = 'flex'\r\n                })\r\n\r\n                const newData = {\r\n                    id: '',\r\n                    token: '',\r\n                    name: '',\r\n                    login: '',\r\n                }\r\n                ;(0,_userdata_js__WEBPACK_IMPORTED_MODULE_0__.updateUserData)(newData)\r\n                console.log('данные авторизации очищены')\r\n                alert('Вы вышли из системы')\r\n\r\n                location.reload()\r\n                window.scrollTo(0, 0)\r\n            })\r\n        } else {\r\n            return\r\n        }\r\n    })\r\n}\r\n\n\n//# sourceURL=webpack:///./js/clearusedate.js?");

/***/ }),

/***/ "./js/escapehtml.js":
/*!**************************!*\
  !*** ./js/escapehtml.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeHtml: () => (/* binding */ escapeHtml)\n/* harmony export */ });\nconst escapeHtml = (text) => {\r\n    if (typeof text !== 'string') {\r\n        return\r\n    }\r\n    return text.replaceAll('&', '&amp;').replaceAll('<', '&lt;').replaceAll('>', '&gt;').replaceAll('\"', '&quot;').replaceAll(\"'\", '&#39;')\r\n}\r\n\n\n//# sourceURL=webpack:///./js/escapehtml.js?");

/***/ }),

/***/ "./js/formatdate.js":
/*!**************************!*\
  !*** ./js/formatdate.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatDate: () => (/* binding */ formatDate)\n/* harmony export */ });\n// Форматирование выводимой даты\r\nfunction formatDate(serverTime) {\r\n    const date = new Date(serverTime)\r\n    const options = {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit',\r\n    }\r\n\r\n    return date.toLocaleString('ru-RU', options)\r\n}\r\n\n\n//# sourceURL=webpack:///./js/formatdate.js?");

/***/ }),

/***/ "./js/index.js":
/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buttonInput: () => (/* binding */ buttonInput),\n/* harmony export */   container: () => (/* binding */ container),\n/* harmony export */   fetchAndRender: () => (/* binding */ fetchAndRender),\n/* harmony export */   getNewDateFromAuth: () => (/* binding */ getNewDateFromAuth),\n/* harmony export */   inputComment: () => (/* binding */ inputComment),\n/* harmony export */   inputName: () => (/* binding */ inputName),\n/* harmony export */   loadingMassage: () => (/* binding */ loadingMassage),\n/* harmony export */   updateUserComments: () => (/* binding */ updateUserComments),\n/* harmony export */   userComments: () => (/* binding */ userComments)\n/* harmony export */ });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"./js/api.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render.js */ \"./js/render.js\");\n/* harmony import */ var _clearusedate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./clearusedate.js */ \"./js/clearusedate.js\");\n/* harmony import */ var _renderauth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./renderauth.js */ \"./js/renderauth.js\");\n/* harmony import */ var _renderreg_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./renderreg.js */ \"./js/renderreg.js\");\n/* harmony import */ var _managebtn_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./managebtn.js */ \"./js/managebtn.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst inputComment = document.getElementById('input-comment')\r\nconst inputName = document.getElementById('input-name')\r\nconst buttonInput = document.getElementById('button')\r\nconst container = document.getElementById('list')\r\nconst loadingMassage = document.querySelectorAll('.loading-message')\r\n\r\nlet userComments = []\r\n\r\nconst wrapLoadingText = () => {\r\n    loadingMassage.forEach((loadingMassage) => {\r\n        const text = loadingMassage.textContent\r\n\r\n        loadingMassage.innerHTML = ''\r\n        text.split('').forEach((char, index) => {\r\n            const span = document.createElement('span')\r\n            span.textContent = char\r\n            span.style.animationDelay = `${index * 0.1}s`\r\n            loadingMassage.appendChild(span)\r\n        })\r\n    })\r\n}\r\n\r\nconst updateUserComments = (newComments) => {\r\n    userComments = newComments\r\n    ;(0,_render_js__WEBPACK_IMPORTED_MODULE_1__.renderComments)(userComments, container)\r\n}\r\n\r\nconst fetchAndRender = () => {\r\n    return (0,_api_js__WEBPACK_IMPORTED_MODULE_0__.fetchComments)().then((data) => {\r\n        updateUserComments(data)\r\n        loadingMassage.forEach((element) => {\r\n            element.style.display = 'none'\r\n        })\r\n    })\r\n}\r\n;(0,_clearusedate_js__WEBPACK_IMPORTED_MODULE_2__.clearUserData)()\r\n;(0,_renderauth_js__WEBPACK_IMPORTED_MODULE_3__.renderAuthorizationForm)()\r\n;(0,_renderreg_js__WEBPACK_IMPORTED_MODULE_4__.renderRegistrationForm)()\r\n;(0,_managebtn_js__WEBPACK_IMPORTED_MODULE_5__.quoteComment)()\r\n;(0,_managebtn_js__WEBPACK_IMPORTED_MODULE_5__.deleteCommentEvent)()\r\n;(0,_render_js__WEBPACK_IMPORTED_MODULE_1__.renderBlockAuth)()\r\n\r\nconst getNewDateFromAuth = (newData) => {\r\n    console.log('возвращает сервер', newData)\r\n    if (newData) {\r\n        const nameData = newData.name\r\n        const nameStr = nameData.slice(0, 1).toUpperCase() + nameData.slice(1).toLowerCase()\r\n        console.log(nameStr)\r\n        alert(`Добро пожаловать ${nameStr}`)\r\n    }\r\n}\r\n\r\nwindow.onload = () => {\r\n    wrapLoadingText()\r\n    fetchAndRender()\r\n    ;(0,_render_js__WEBPACK_IMPORTED_MODULE_1__.renderBlockAuth)()\r\n    // addLikeButtonListeners()\r\n}\r\n\n\n//# sourceURL=webpack:///./js/index.js?");

/***/ }),

/***/ "./js/managebtn.js":
/*!*************************!*\
  !*** ./js/managebtn.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteCommentEvent: () => (/* binding */ deleteCommentEvent),\n/* harmony export */   quoteComment: () => (/* binding */ quoteComment)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ \"./js/index.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validation.js */ \"./js/validation.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api.js */ \"./js/api.js\");\n\r\n\r\n\r\n\r\n\r\nconst quoteComment = () => {\r\n    _index_js__WEBPACK_IMPORTED_MODULE_0__.buttonInput.addEventListener('click', (event) => {\r\n        event.stopPropagation()\r\n        if (!(0,_validation_js__WEBPACK_IMPORTED_MODULE_1__.validateInput)(_index_js__WEBPACK_IMPORTED_MODULE_0__.inputComment)) {\r\n            return\r\n        }\r\n        document.querySelector('.comment-loaded').style.display = 'flex'\r\n        document.querySelector('.add-form').style.display = 'none'\r\n\r\n        const newComments = 'text: inputComment.value'\r\n\r\n        ;(0,_api_js__WEBPACK_IMPORTED_MODULE_2__.postComment)(_index_js__WEBPACK_IMPORTED_MODULE_0__.inputComment.value)\r\n            .then(() => {\r\n                ;(0,_index_js__WEBPACK_IMPORTED_MODULE_0__.fetchAndRender)()\r\n            })\r\n            .then(() => {\r\n                _index_js__WEBPACK_IMPORTED_MODULE_0__.inputComment.value = ''\r\n            })\r\n            .finally(() => {\r\n                document.querySelector('.comment-loaded').style.display = 'none'\r\n                document.querySelector('.add-form').style.display = 'flex'\r\n            })\r\n    })\r\n}\r\n\r\nconst deleteCommentEvent = () => {\r\n    console.log('Удаление комента активирована')\r\n    const delBtn = document.querySelectorAll('.del-comment')\r\n    const comments = document.querySelectorAll('.comment')\r\n    console.log(`Кнопок удаления найдено ${delBtn.length}`)\r\n    if (delBtn.length > 0) {\r\n        delBtn.forEach((btn, index) => {\r\n            btn.addEventListener('click', (event) => {\r\n                event.stopPropagation()\r\n                console.log(btn)\r\n                console.log(`нажата кнопка с id:${index}`)\r\n                const commentId = _index_js__WEBPACK_IMPORTED_MODULE_0__.userComments[index].id\r\n                console.log(commentId)\r\n                ;(0,_api_js__WEBPACK_IMPORTED_MODULE_2__.deleteFetch)(commentId)\r\n            })\r\n        })\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./js/managebtn.js?");

/***/ }),

/***/ "./js/render.js":
/*!**********************!*\
  !*** ./js/render.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addClickEventToComments: () => (/* binding */ addClickEventToComments),\n/* harmony export */   addLikeButtonListeners: () => (/* binding */ addLikeButtonListeners),\n/* harmony export */   renderBlockAuth: () => (/* binding */ renderBlockAuth),\n/* harmony export */   renderComments: () => (/* binding */ renderComments),\n/* harmony export */   renderNameComment: () => (/* binding */ renderNameComment),\n/* harmony export */   renderResizeAuth: () => (/* binding */ renderResizeAuth),\n/* harmony export */   resetResizeAuth: () => (/* binding */ resetResizeAuth)\n/* harmony export */ });\n/* harmony import */ var _escapehtml_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./escapehtml.js */ \"./js/escapehtml.js\");\n/* harmony import */ var _formatdate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formatdate.js */ \"./js/formatdate.js\");\n/* harmony import */ var _managebtn_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./managebtn.js */ \"./js/managebtn.js\");\n/* harmony import */ var _clearusedate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./clearusedate.js */ \"./js/clearusedate.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api.js */ \"./js/api.js\");\n/* harmony import */ var _renderauth_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderauth.js */ \"./js/renderauth.js\");\n/* harmony import */ var _renderreg_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./renderreg.js */ \"./js/renderreg.js\");\n/* harmony import */ var _userdata_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./userdata.js */ \"./js/userdata.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index.js */ \"./js/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst renderComments = (userComments, container) => {\r\n    console.log(userComments)\r\n    container.innerHTML = userComments\r\n        .map(\r\n            (comment) =>\r\n                `<li class=\"comment\">\r\n        <div class=\"comment-header\">\r\n          <div class=\"title\">${(0,_escapehtml_js__WEBPACK_IMPORTED_MODULE_0__.escapeHtml)(comment.name)}</div>\r\n          <div>${(0,_formatdate_js__WEBPACK_IMPORTED_MODULE_1__.formatDate)(comment.date)}</div>\r\n        </div>\r\n        <div class=\"comment-body\">\r\n          <div class=\"comment-text\">${(0,_escapehtml_js__WEBPACK_IMPORTED_MODULE_0__.escapeHtml)(comment.text)}</div>\r\n        </div>\r\n        <div class=\"comment-footer\">\r\n            <div class=\"container-del\"></div>\r\n\r\n          <div class=\"likes\">\r\n            <span class=\"likes-counter\">${comment.likes}</span>\r\n            <button class=\"like-button ${comment.isLiked ? '.-active-like' : ''}\" data-id=\"${comment.id}\"></button>\r\n          </div>\r\n        </div>\r\n      </li>`\r\n        )\r\n        .join('')\r\n\r\n    renderNameComment()\r\n    renderBlockAuth()\r\n    addClickEventToComments(userComments)\r\n    ;(0,_clearusedate_js__WEBPACK_IMPORTED_MODULE_3__.clearUserData)()\r\n    ;(0,_managebtn_js__WEBPACK_IMPORTED_MODULE_2__.deleteCommentEvent)()\r\n    ;(0,_renderauth_js__WEBPACK_IMPORTED_MODULE_5__.renderAuthorizationForm)()\r\n    ;(0,_renderreg_js__WEBPACK_IMPORTED_MODULE_6__.renderRegistrationForm)()\r\n    addLikeButtonListeners(userComments)\r\n    console.log('Комментарии отрисованы')\r\n}\r\n\r\nconst addClickEventToComments = (userComments) => {\r\n    const commentElements = document.querySelectorAll('.comment')\r\n    commentElements.forEach((commentElement, index) => {\r\n        commentElement.addEventListener('click', () => {\r\n            const comment = userComments[index]\r\n            const inputComment = document.getElementById('input-comment')\r\n            inputComment.value = `[Цитата пользователя: \"${comment.text}\"]`\r\n        })\r\n    })\r\n}\r\n\r\nconst renderNameComment = () => {\r\n    const inputName = document.getElementById('input-name')\r\n    console.log(_userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData.name)\r\n    if (inputName && _userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData && _userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData.token) {\r\n        inputName.value = _userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData.name\r\n        console.log('Имя перезаписано')\r\n    } else {\r\n        return\r\n    }\r\n}\r\n\r\nconst addLikeButtonListeners = (userComments) => {\r\n    const likeButtons = document.querySelectorAll('.like-button')\r\n    const likeCounter = document.querySelectorAll('.likes-counter')\r\n    likeButtons.forEach((button, index) => {\r\n        const comment = userComments[index]\r\n        likeCounter[index].textContent = `${comment.likes}`\r\n        console.log(comment.isLiked)\r\n        if (comment.isLiked) {\r\n            button.classList.add('-active-like')\r\n        }\r\n        button.addEventListener('click', (event) => {\r\n            event.stopPropagation()\r\n            ;(0,_api_js__WEBPACK_IMPORTED_MODULE_4__.switchLike)(comment.id).then((result) => {\r\n                console.log(result.likes)\r\n                console.log(result.isLiked)\r\n                likeCounter[index].textContent = `${result.likes}`\r\n                if (result.isLiked) {\r\n                    button.classList.add('-active-like')\r\n                }\r\n            })\r\n            // const likeId = button.getAttribute('data-id')\r\n        })\r\n    })\r\n}\r\n\r\nconst renderBlockAuth = () => {\r\n    const authorButtonsContainer = document.getElementById('authorization')\r\n\r\n    if (_userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData && _userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData && _userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData.token.length > 2) {\r\n        console.log('Пользователь АВТОРИЗОВАН!!!!')\r\n        authorButtonsContainer.innerHTML = `<div class=\"exit__btn button btn--close\">Выход</div>`\r\n        const exitBtn = document.querySelector('.exit__btn')\r\n        exitBtn.style.display = 'flex'\r\n        const delBtnContainer = document.querySelectorAll('.container-del')\r\n        delBtnContainer.forEach((item, index) => {\r\n            item.innerHTML = `<div class=\"del-comment button btn--close\" data-id=\"${_userdata_js__WEBPACK_IMPORTED_MODULE_7__.userData[index]}\">Удалить</div>`\r\n        })\r\n        const inputCommentContainer = document.querySelector('.add-form')\r\n        inputCommentContainer.style.display = 'flex'\r\n    } else {\r\n        console.log('Пользователь НЕ АВТОРИЗОВАН!!!!')\r\n        const inputCommentContainer = document.querySelector('.add-form')\r\n        inputCommentContainer.style.display = 'none'\r\n        authorButtonsContainer.innerHTML = `<div class=\"auth__btn button btn--close\" >Вход</div>\r\n        <div class=\"reg__btn button btn--close\" >Регистрация</div>`\r\n    }\r\n\r\n    console.log('Блок авторизации отрисован')\r\n\r\n    ;(0,_renderauth_js__WEBPACK_IMPORTED_MODULE_5__.renderAuthorizationForm)()\r\n    ;(0,_renderreg_js__WEBPACK_IMPORTED_MODULE_6__.renderRegistrationForm)()\r\n}\r\n\r\nconst renderResizeAuth = async () => {\r\n    const authorButtonsContainer = document.getElementById('authorization')\r\n    authorButtonsContainer.style.height = '450px'\r\n    authorButtonsContainer.style.paddingRight = '50px'\r\n    authorButtonsContainer.style.paddingLeft = '50px'\r\n    authorButtonsContainer.style.flexDirection = 'column'\r\n    // authorButtonsContainer.style.\r\n\r\n    const buttonInputLogPass = document.querySelector('.button-input')\r\n\r\n    // buttonInputLogPass.style.width = '50%'\r\n\r\n    const inputForm = document.querySelectorAll('.input-form')\r\n    inputForm.forEach((element) => {\r\n        element.style.width = '10%'\r\n    })\r\n    return\r\n}\r\n\r\nconst resetResizeAuth = () => {\r\n    const authorButtonsContainer = document.getElementById('authorization')\r\n    if (authorButtonsContainer) {\r\n        authorButtonsContainer.style.height = ''\r\n        authorButtonsContainer.style.paddingRight = ''\r\n        authorButtonsContainer.style.paddingLeft = ''\r\n        authorButtonsContainer.style.flexDirection = ''\r\n        // authorButtonsContainer.style.\r\n    }\r\n\r\n    const buttonInputLogPass = document.querySelector('.button-input')\r\n    if (buttonInputLogPass) {\r\n        buttonInputLogPass.style.width = ''\r\n        console.log('Очищены стили')\r\n        // return\r\n    }\r\n    return\r\n}\r\n\n\n//# sourceURL=webpack:///./js/render.js?");

/***/ }),

/***/ "./js/renderauth.js":
/*!**************************!*\
  !*** ./js/renderauth.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderAuthorizationForm: () => (/* binding */ renderAuthorizationForm)\n/* harmony export */ });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"./js/api.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"./js/index.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render.js */ \"./js/render.js\");\n/* harmony import */ var _userdata_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./userdata.js */ \"./js/userdata.js\");\n\r\n\r\n\r\n\r\n\r\nconst renderAuthorizationForm = () => {\r\n    console.log('Активирована функция аторизвции')\r\n    const authorButtonsContainer = document.getElementById('authorization')\r\n    let formRendered = false\r\n\r\n    const authButton = document.querySelector('.auth__btn')\r\n    if (authButton) {\r\n        console.log('Кнопка авторизации найдена')\r\n    } else {\r\n        console.log('Кнопка авторизации не найдена')\r\n        return\r\n    }\r\n\r\n    authButton.addEventListener('click', (event) => {\r\n        console.log('кнопка входа нажата')\r\n        event.stopPropagation()\r\n        const container = document.getElementById('list')\r\n        const btnAuthContainer = document.querySelectorAll('.btn--close')\r\n        btnAuthContainer.forEach((button) => {\r\n            container.style.display = 'none'\r\n            button.style.display = 'none'\r\n        })\r\n        ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderResizeAuth)()\r\n\r\n        if (!formRendered) {\r\n            authorButtonsContainer.innerHTML = `<input\r\n          id=\"login\"\r\n          type=\"text\"\r\n          class=\"add-form-login input-form\"\r\n          placeholder=\"Введите логин\"\r\n        />\r\n        <input\r\n          id=\"password\"\r\n          type=\"text\"\r\n          class=\"add-form-pass input-form\"\r\n          placeholder=\"Введите ваш пароль\"\r\n        >\r\n        <button class=\"button-input button\">Вход</button>\r\n        `\r\n\r\n            const loginInput = document.getElementById('login')\r\n            if (loginInput) {\r\n                loginInput.focus()\r\n            }\r\n            formRendered = true\r\n        }\r\n        const buttonInputLogPass = document.querySelector('.button-input')\r\n\r\n        buttonInputLogPass.addEventListener('click', () => {\r\n            const inputLogin = document.getElementById('login')\r\n            const inputPass = document.getElementById('password')\r\n            const dataAuth = {\r\n                login: inputLogin.value,\r\n                password: inputPass.value,\r\n            }\r\n\r\n            console.log(dataAuth)\r\n            ;(0,_api_js__WEBPACK_IMPORTED_MODULE_0__.authorization)(dataAuth.login, dataAuth.password)\r\n                .then(() => {\r\n                    console.log(_userdata_js__WEBPACK_IMPORTED_MODULE_3__.userData)\r\n                    if (_userdata_js__WEBPACK_IMPORTED_MODULE_3__.userData && _userdata_js__WEBPACK_IMPORTED_MODULE_3__.userData.token) {\r\n                        (0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderBlockAuth)()\r\n                        console.log('renderBlockAuth выполнено!')\r\n                        ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.resetResizeAuth)()\r\n                        ;(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.fetchAndRender)()\r\n                        container.style.display = 'flex'\r\n\r\n                        console.log('resetResizeAuth выполнено!')\r\n                        ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderNameComment)()\r\n\r\n                    } else {\r\n                        return\r\n                    }\r\n                })\r\n                \r\n                .catch((error) => alert(error.massage))\r\n        })\r\n    })\r\n}\r\n\n\n//# sourceURL=webpack:///./js/renderauth.js?");

/***/ }),

/***/ "./js/renderreg.js":
/*!*************************!*\
  !*** ./js/renderreg.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderRegistrationForm: () => (/* binding */ renderRegistrationForm)\n/* harmony export */ });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"./js/api.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"./js/index.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render.js */ \"./js/render.js\");\n/* harmony import */ var _userdata_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./userdata.js */ \"./js/userdata.js\");\n\r\n\r\n\r\n\r\n\r\nconst renderRegistrationForm = () => {\r\n    const authorButtonsContainer = document.getElementById('authorization')\r\n\r\n    let formRendered = false\r\n\r\n    const regButton = document.querySelector('.reg__btn')\r\n    if (!regButton) {\r\n        console.log('Кнопка регистрации не найдена')\r\n        return\r\n    } else {\r\n        console.log('продолжение регистраци')\r\n    }\r\n\r\n    console.log(formRendered)\r\n    regButton.addEventListener('click', (event) => {\r\n        console.log('нажата кнопка регистрации')\r\n        event.stopPropagation()\r\n        const container = document.getElementById('list')\r\n\r\n        const btnAuthContainer = document.querySelectorAll('.btn--close')\r\n        btnAuthContainer.forEach((button) => {\r\n            container.style.display = 'none'\r\n            button.style.display = 'none'\r\n        })\r\n        ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderResizeAuth)()\r\n\r\n        if (!formRendered) {\r\n            authorButtonsContainer.innerHTML = `<input\r\n          id=\"login\"\r\n          type=\"text\"\r\n          class=\"add-form-login input-form\"\r\n          placeholder=\"Введите логин\"\r\n        />\r\n        <input\r\n          id=\"name\"\r\n          type=\"text\"\r\n          class=\"add-form-login input-form\"\r\n          placeholder=\"Введите имя\"\r\n        />\r\n        <input\r\n          id=\"password\"\r\n          type=\"text\"\r\n          class=\"add-form-pass input-form\"\r\n          placeholder=\"Введите ваш пароль\"\r\n          >\r\n          <button class=\"button-input button\">Регистрация</button>\r\n        `\r\n            console.log('отрисобал блок регистрации')\r\n\r\n            const loginInput = document.getElementById('login')\r\n            if (loginInput) {\r\n                loginInput.focus()\r\n            }\r\n            formRendered = true\r\n        }\r\n        const buttonInputLogPass = document.querySelector('.button-input')\r\n        if (buttonInputLogPass) {\r\n            buttonInputLogPass.addEventListener('click', () => {\r\n                const inputLogin = document.getElementById('login')\r\n                const inputName = document.getElementById('name')\r\n                const inputPass = document.getElementById('password')\r\n                const dataAuth = {\r\n                    login: inputLogin.value,\r\n                    name: inputName.value,\r\n                    password: inputPass.value,\r\n                }\r\n                ;(0,_api_js__WEBPACK_IMPORTED_MODULE_0__.registration)(dataAuth.login, dataAuth.name, dataAuth.password)\r\n                    .then(() => {\r\n                        console.log(_userdata_js__WEBPACK_IMPORTED_MODULE_3__.userData)\r\n                        if (_userdata_js__WEBPACK_IMPORTED_MODULE_3__.userData && _userdata_js__WEBPACK_IMPORTED_MODULE_3__.userData.token) {\r\n                            (0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderBlockAuth)()\r\n                            console.log('renderBlockAuth выполнено!')\r\n                            ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.resetResizeAuth)()\r\n                            ;(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.fetchAndRender)()\r\n                            container.style.display = 'flex'\r\n\r\n                            console.log('resetResizeAuth выполнено!')\r\n                            ;(0,_render_js__WEBPACK_IMPORTED_MODULE_2__.renderNameComment)()\r\n                        } else {\r\n                            return\r\n                        }\r\n                    })\r\n                    .catch((error) => console.error(error))\r\n            })\r\n        }\r\n    })\r\n}\r\nrenderRegistrationForm()\r\n\n\n//# sourceURL=webpack:///./js/renderreg.js?");

/***/ }),

/***/ "./js/userdata.js":
/*!************************!*\
  !*** ./js/userdata.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateUserData: () => (/* binding */ updateUserData),\n/* harmony export */   userData: () => (/* binding */ userData)\n/* harmony export */ });\nconst userData = {\r\n    token: localStorage.getItem('token') || '',\r\n    id: localStorage.getItem('id') || '',\r\n    name: localStorage.getItem('name') || '',\r\n    login: localStorage.getItem('login') || '',\r\n    password: localStorage.getItem('password') || '',\r\n}\r\n\r\nconst updateUserData = (newData) => {\r\n    Object.assign(userData, newData)\r\n    localStorage.setItem('token', userData.token)\r\n    localStorage.setItem('id', userData.id)\r\n    localStorage.setItem('name', userData.name)\r\n    localStorage.setItem('login', userData.login)\r\n    localStorage.setItem('password', userData.password)\r\n}\r\n\r\nconsole.log(userData)\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./js/userdata.js?");

/***/ }),

/***/ "./js/validation.js":
/*!**************************!*\
  !*** ./js/validation.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateInput: () => (/* binding */ validateInput)\n/* harmony export */ });\nconst validateInput = (inputComment) => {\r\n    let isValidation = true\r\n\r\n    inputComment.addEventListener('input', () => {\r\n        inputComment.classList.remove('error')\r\n        inputComment.placeholder = ''\r\n    })\r\n    if (inputComment.value === '') {\r\n        inputComment.placeholder = 'Не может быть пустым'\r\n        inputComment.classList.add('error')\r\n\r\n        isValidation = false\r\n    }\r\n    return isValidation\r\n}\r\n\n\n//# sourceURL=webpack:///./js/validation.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./js/index.js");
/******/ 	
/******/ })()
;